# Clean Slate Baseline Report

Date: 2026-01-18

## Environment

- OS: macOS 15.5 (Darwin 24.5.0)
- uv version: 0.9.7 (Homebrew 2025-10-30)
- Python version: 3.14.0 (system), 3.12.12 (uv-managed, used for venv)
- Beads version: 0.47.1 (279192c5)

## Reset Steps Executed

| Step | Command | Result |
|------|---------|--------|
| Remove .venv | `rm -rf .venv/` | SUCCESS |
| Clear uv cache | `uv cache clean --force` | SUCCESS - Removed 36537 files (1.1GiB) |
| Verify clean | `ls -la .venv/` | SUCCESS - directory does not exist |

## README Installation Steps Tested

### Option 1: Git Clone (Development)

| Step | Command | Result | Notes |
|------|---------|--------|-------|
| 1 | `uv venv` | SUCCESS | Created .venv with Python 3.12.12 |
| 2 | `source .venv/bin/activate` | SUCCESS | (implicit in subsequent commands) |
| 3 | `uv pip install -e .` | SUCCESS | Installed aura 0.1.0 + click 8.3.1 |
| 4 | `uv pip install -r .aura/scripts/requirements.txt` | SUCCESS | Installed 18 packages including openai, pydub |

## Aura Commands Tested

| Command | Result | Output |
|---------|--------|--------|
| `aura --version` | SUCCESS | `aura, version 0.1.0` |
| `aura --help` | SUCCESS | Shows commands: check, init |
| `aura init --dry-run` | SUCCESS | Shows 17 files would be skipped (already exist) |
| `aura check` | PARTIAL | Exit code 1 - OPENAI_API_KEY not detected |

### aura check Output

```
Checking prerequisites...

  + Python 3.12+
  + Claude Code
  - OPENAI_API_KEY
  + sox
  + beads (bd)

1 issues found. Some features may not work.
```

## Issues Discovered

### Issue 1: OPENAI_API_KEY Detection
- `aura check` does not find OPENAI_API_KEY
- The README instructs users to put the key in `.aura/.env`
- But `aura check` may not be loading from that location
- **Severity**: Medium - check command reports false negative

### Issue 2: Two Separate Virtual Environments Documented
- README "Option 1" creates `.venv/` at repo root
- README "Quick Start" section (for target repos) creates `.aura/.venv/`
- This is intentional (dev vs user), but could be confusing
- **Severity**: Low - documentation clarity

### Issue 3: No aura check Implementation Details
- README mentions `aura check` but doesn't explain what it checks
- Users don't know what "OPENAI_API_KEY" failure means or how to fix it
- **Severity**: Low - documentation gap

## Undocumented Steps Required

None discovered. All installation steps completed successfully using only README instructions.

## What Currently Works

1. **Installation**: Full development installation works perfectly
2. **CLI**: `aura --version` and `aura --help` work
3. **Init**: `aura init --dry-run` works correctly
4. **Dependencies**: All script dependencies install without issues

## What Needs Investigation

1. **aura check OPENAI_API_KEY detection**: Need to verify if this is a bug or expected behavior (key is in .aura/.env, not exported to environment)

## Recommendations

1. **Fix aura check**: Make it read from `.aura/.env` or clearly document that the env var must be exported
2. **Clarify venv locations**: Add a note explaining the difference between development (.venv/) and target repo (.aura/.venv/) environments
3. **Expand aura check docs**: Explain what each check means and how to fix failures

## Conclusion

The current installation process works correctly. All README steps succeed when followed exactly. The only issue found is that `aura check` doesn't detect OPENAI_API_KEY when it's stored in `.aura/.env` rather than exported to the shell environment.

---

*Generated by Phase 0: Clean Slate Test*
