# Chore: Queue Directory Structure

## Overview

Define the directory structure and file organization for queued voice memos. This structure must support the recording script's output and be compatible with both Aura and Cyborg processing commands.

## Context

Voice memos need a staging area (queue) before they're processed into final output or brain notes. Each memo should be self-contained in a subdirectory with:
- Audio file (WAV format)
- Raw transcript (text)
- Metadata (title, timestamp)

The structure must be predictable so processing commands can reliably find and operate on memos.

## Directory Structure

```
.aura/
└── queue/
    ├── <title-1>/
    │   ├── audio.wav          # Original recording
    │   └── transcript.txt     # Raw transcript from Whisper
    ├── <title-2>/
    │   ├── audio.wav
    │   └── transcript.txt
    └── <title-n>/
        ├── audio.wav
        └── transcript.txt
```

### Title Format

Titles are generated by `generate_title.py` and follow kebab-case:
- Lowercase only
- Hyphens for word separation
- Max 50 characters
- Filesystem-safe (alphanumeric + hyphens only)

Examples:
- `bug-fix-authentication`
- `feature-dark-mode-toggle`
- `research-api-refactor`

### File Specifications

**audio.wav**:
- Format: WAV (PCM)
- Created by: SoX recording
- Purpose: Archival, reference, potential re-transcription

**transcript.txt**:
- Format: Plain text (UTF-8)
- Created by: `transcribe.py` with chunking
- Purpose: Raw transcription for processing commands
- Content: Exact Whisper output, no formatting

## Implementation Tasks

- [ ] Update `.aura/.gitignore` to include `queue/` directory (keep it out of version control)
- [ ] Document structure in CLAUDE.md
- [ ] Ensure `record_memo.py` creates this structure
- [ ] Ensure processing commands expect this structure

## Acceptance Criteria

- [ ] `.aura/queue/` directory is git-ignored
- [ ] Each memo subdirectory named with kebab-case title
- [ ] `audio.wav` and `transcript.txt` present in each subdirectory
- [ ] Title generation is deterministic from transcript content
- [ ] Structure documented and referenced in command files

## Testing

1. Create queue directory manually with example structure
2. Verify `.gitignore` excludes it
3. Test that processing commands can iterate over subdirectories
4. Verify title collision handling (if two memos generate same title)

## Notes

- Titles are generated AFTER transcription completes (need transcript content)
- If title generation fails, fallback to timestamp-based naming: `memo-20260122-143022`
- Future: Consider adding `metadata.json` for additional info (duration, model used, etc.)
